#########################################################
## Developed by Little Room, patreon.com/littleroomdev ##
#########################################################

capra:
  Type: IRON_GOLEM
  Display: Capra
  Health: 1000
  Damage: 1
  Modules:
    ThreatTable: true
  BossBar:
    Enabled: true
    Title: 'Capra the Goat Demon'
    Range: 20
    Color: RED
    Style: SOLID
    PlayMusic: true
    DarkenSky: true
  AIGoalSelectors:
  - 0 clear
  - 1 meleeattack
  - 2 float
  AITargetSelectors:
  - 0 clear
  - 1 players
  Equipment:
  - torch:0
  DamageModifiers:
  - FIRE_TICK 0.00
  - FIRE -0.5
  - LAVA -4
  Options:
    MovementSpeed: 0.3
    FollowRange: 64
    Silent: true
    Despawn: false
    Invincible: false
    PreventBlockInfection: true
  Skills:
  - skill{s=capraLAVA} @self ~onTimer:20
  - effect:particles{particle=end_rod;amount=15;speed=0.25;hs=0.5;vs=0.5} @ModelPart{m=capra;p=capra} ~onDamaged
  - skill{s=capraSPAWNimps} @self ~onTimer:120 .25
  - skill{s=capraLEVELGROUND_HIGH} @target ~onTimer:40
  - skill{s=capraATTACK;sync=true} @self ~onAttack
  - skill{s=capraDESPAIR} @self ~onTimer:80
  - skill{s=capraGLIDE} @self ~onTimer:20
  - skill{s=capraONSPAWN} @self ~onSpawn
  - skill{s=capraHELLFIRE} @self ~onTimer:180
  - skill{s=capraSUBJUGATE} @self ~onTimer:480 .25
  - skill{s=capraSTUN75} @self ~onDamaged <75%
  - skill{s=capraSTUN50} @self ~onDamaged <50%
  - skill{s=capraSTUN25} @self ~onDamaged <25%
  - effect:particles{particle=flame;amount=1;speed=0.01} @ModelPart{m=capra;p=crown} ~onTimer:5
  - model{mid=capra;n=false} @self ~onSpawn
  - skill{s=capraDEATH} @self ~onDeath

capra_imp:
  Type: VEX
  Display: Imp
  Health: 2
  Damage: 1
  AIGoalSelectors:
  - 1 movetowardstarget
  Equipment:
  - torch:0
  Options:
    Anger: true
    MovementSpeed: 0.4
    FollowRange: 64
    Silent: false
    Despawn: false
    Invincible: false
    PreventBlockInfection: true
    Collidable: false
  Skills:
  - CancelEvent{sync=true} @self ~onAttack
  - effect:particles{particle=end_rod;amount=15;speed=0.25;hs=0.5;vs=0.5} @ModelPart{m=imp;p=imp} ~onDamaged
  - model{mid=imp;n=false} @self ~onSpawn
  - skill{s=capraimpSPAWN} @self ~onSpawn
  #- skill{s=capraimpFLAP} @self ~onTimer:20
  - skill{s=capraimpGRAB} @self ~onTimer:10
  - skill{s=capraimpGRABFLY} @self ~onTimer:20
  - skill{s=capraimpPREVENTCLIP} @self ~onTimer:2
  - skill{s=capraimpDEATH} @self ~onDeath


phillip:
  Type: PIG
  Display: "Phillip"
  Health: 100
  AIGoalSelectors:
  - 0 clear
  - 1 lookatplayers
  AITargetSelectors:
  - 0 clear
  Options:
    Age: -1
    Silent: true
    Despawn: false
    Invincible: false
    AgeLock: true
    Baby: true
  Skills:
  - skill{s=capraSUMMON} @self ~onDamaged
  - sound{s=littleroom_capra:littleroom.capra.phillip;sc=HOSTILE} @self ~onTimer:40 .1
  - model{mid=phillip;n=false;d=false} @self ~onSpawn

caprachains:
  Type: ARMOR_STAND
  Display: caprachains
  Options:
    NoAI: true
    Silent: true
    Despawn: false
    Invincible: true
    HasGravity: false
  Skills:
  - skill{s=caprachainsONSPAWN} @self ~onSpawn
  - model{mid=caprachains;n=false;d=false} @self ~onSpawn
  
capra_scythe_h:
  Type: SILVERFISH
  Display: scythe
  Equipment:
  - glowstone:0
  Options:
    NoAI: true
    Silent: true
    Despawn: false
    Invincible: true
    PreventBlockInfection: true
  Skills:
  - effect:particles{p=flame;amount=15;speed=0;hS=.25;vS=.25} @PIR{r=3) ~onTimer:5
  - effect:particles{p=large_smoke;amount=15;speed=0;hS=.25;vS=.25} @ModelPart{m=scythe;p=scythe;offset=LOCAL;z=2.1} ~onTimer:5
  - damage{a=2} @PIR{r=3) ~onTimer:5
  - skill{s=scythe_hONSPAWN} @self ~onSpawn
  - model{mid=scythe;n=false;d=false;i=false} @self ~onSpawn



scytheslashfx:
  Type: ARMOR_STAND
  Display: slashfx
  Options:
    NoAI: true
    Silent: true
    Despawn: false
    Invincible: true
    HasGravity: false
  Skills:
  - model{mid=slashfx;n=false;d=false} @self ~onSpawn

magiccircle:
  Type: ARMOR_STAND
  Display: magiccircle
  Options:
    NoAI: true
    Silent: true
    Despawn: false
    Invincible: true
    HasGravity: false
  Skills:
  - model{mid=magiccircle;n=false;d=false} @self ~onSpawn
  
  
meteor:
  Type: CAT
  Display: meteor
  Equipment:
  - glowstone:0
  Options:
    NoAI: true
    Silent: true
    Despawn: false
    Invincible: true
    PreventBlockInfection: true
  Skills:
  - skill{s=meteorONSPAWN} @self ~onSpawn
  - model{mid=meteor;n=false;d=false;i=false} @self ~onSpawn
    
meteortarget:
  Type: ARMOR_STAND
  Display: Capra
  Options:
    NoAI: true
    Silent: true
    Despawn: false
    HasGravity: false
  Skills:
  - model{mid=magiccircle;n=false;d=false} @self ~onSpawn
  - skill{s=meteorcometh} @self ~onSpawn

pentapoints:
  Type: SILVERFISH
  Options:
    NoAI: true
    Silent: true
    Despawn: false
    Invincible: true
    ApplyInvisibility: true
    PreventBlockInfection: true
  Skills:
  - skill{s=pentapoints} @self ~onTimer:10