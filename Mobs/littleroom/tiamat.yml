
#########################################################
## Developed by Little Room, patreon.com/littleroomdev ##
#########################################################

tiamat:
  Type: IRON_GOLEM
  Display: '&dTiamat'
  Health: 10000
  Damage: 20
  BossBar:
    Enabled: true
    Title: '&dTiamat'
    Range: 60
    Color: PURPLE
    Style: SOLID
  DamageModifiers:
  - SUFFOCATION 0
  - FALL 0
  AITargetSelectors:
  - 0 players
  Modules:
    ThreatTable: true
  Options:
    #MovementSpeed: .3
    #Collidable: false
    Silent: true
    MaxCombatDistance: 64
    PreventOtherDrops: true
    KnockbackResistance: 1
    FollowRange: 64
  Skills:
  - skills{s=tiamat_idlesounds} @self ~onTimer:60 .5
  - model{mid=tiamat;n=false} @self ~onSpawn
  - skill{s=tiamat_HANGING} @self ~onSpawn
  - skill{s=tiamat_HANGING_AWAKEN} @self ~onSignal:WAKEUP
  - skill{s=tiamat_HANGING_AWAKEN} @self ~onDamaged
  - skill{s=tiamat_FLAP} @selflocation{y=-3} ~onTimer:1
  - skill{s=tiamat_LAND} @self ~onTimer:1
  - throw{velocity=5;velocityY=0} @EIR{r=2} ~onTimer:1
  - randomskill{skills=tiamatSWIPEleftsync,tiamatSWIPErightsync;sync=true} @self ~onAttack
  - skill{s=tiamatLEAP} @self ~onTimer:20
  - skill{s=tiamatRAGE} @self ~onTimer:30
  - skill{s=tiamatFLINCHHIT} @self ~onDamaged
  - skill{s=tiamatFLINCH75;sync=true} @self ~onDamaged <75%
  - skill{s=tiamatFLINCH50;sync=true} @self ~onDamaged <50%
  - skill{s=tiamatFLINCH25;sync=true} @self ~onDamaged <25%
  - skill{s=tiamatDEATH} @self ~onDeath
  
  
tiamatAWAKENmarker:
  Type: ARMOR_STAND
  Options:
    Invisible: true
  Skills:
  - skill{s=tiamatAWAKENSIGNAL} @self ~onTimer:5
  
  
tiamatSWARM:
  Type: PHANTOM
  Display: 'Tiamat Swarm'
  AITargetSelectors:
  - 0 players
  AIGoalSelectors:
  - 0 meleeattack
  Options:
    ApplyInvisibility: true
    Size: 5
    PreventOtherDrops: true
  Skills:  
  - damage{a=1} @PIR{r=4} ~onTimer:20
  - pull{velocity=10} @PIR{r=2} ~onTimer:1
  - effect:particles{p=squid_ink;amount=5;speed=0;hS=1;vS=1} @self ~onTimer:1
  #- potion{type=BLINDNESS;duration=40;level=4} @PIR{r=4} ~onTimer:20
  - lunge{velocity=1;velocityY=.1} @NearestPlayer{r=32} ~onTimer:1
  - skill{s=tiamatSWARM} @self ~onSpawn
  
  
tiamatBAT:
  Type: BAT
  
  
tiamat_pillar:
  Type: ARMOR_STAND
  Options:
    Silent: true
    MovementSpeed: 0
    Invincible: true
    PreventOtherDrops: true
    Persistent: true
    Collidable: false
    Marker: true
  Display: 'Tiamat Pillar'
  Health: 100
  Damage: 0
  Skills:
  - model{mid=tiamat_pillar;n=false} @self ~onSpawn
  - skill{s=tiamat_pillar_spawn} @self ~onSpawn
  - skill{s=tiamat_pillar_break} @self ~onSignal:BREAK
  - skill{s=tiamat_pillar_remove} @trigger ~onInteract
  
tiamatConcussion:
  Type: SILVERFISH
  Options:
    NoAI: true
    Silent: true
  Display: 'Concussion'
  Skills:
  - model{mid=concussion;n=false;d=false} @self ~onSpawn
  - skill{s=tiamatconcussionREMOVE} @self ~onSpawn