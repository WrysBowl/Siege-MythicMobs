
#########################################################
## Developed by Little Room, patreon.com/littleroomdev ##
#########################################################

krakenIDLE1:
  Skills:
  - sound{s=littleroom_kraken:littleroom.kraken.idle1;sc=HOSTILE} @self
  
krakenIDLE2:
  Skills:
  - sound{s=littleroom_kraken:littleroom.kraken.idle2;sc=HOSTILE} @self
  
krakenIDLE3:
  Skills:
  - sound{s=littleroom_kraken:littleroom.kraken.idle3;sc=HOSTILE} @self

krakenAWAKEN:
  Cooldown: 999
  Conditions:
  - playerwithin{d=10} true
  Skills:
  - weather{type=storm;duration=6000}
  - sound{s=littleroom_kraken:littleroom.kraken.awaken;sc=HOSTILE} @self
  - state{s=awaken} @self    
  - throw{velocity=15;velocityY=1} @PlayersInRadius{r=12}
  - effect:particles{particle=bubble;amount=200;hS=2;vS=2;speed=0.5;size=5} @self
  - effect:particles{particle=bubble_column_up;amount=1000;hS=2;vS=2;speed=0} @self
  - delay 2
  - summon{t=kraken} @SelfLocation{y=5}
  - delay 110
  - remove @self

krakenSHROUD:
  Conditions:
  - targetwithin{d=6} true
  Skills:
  - sound{s=littleroom_kraken:littleroom.kraken.ink;sc=HOSTILE} @self
  - totem{oS=krakenSHROUDTOTEM} @Origin{yoffset=-3}
  - lunge{velocity=4;velocityY=0.1} @Forward{f=-10;yoffset=-10}
  - effect:particles{particle=squid_ink;amount=250;hS=.25;vS=.25} @SelfLocation{y=0.0}
  - delay 2
  - effect:particles{particle=squid_ink;amount=250;hS=.25;vS=.25} @SelfLocation{y=-1.0}
  - delay 2
  - effect:particles{particle=squid_ink;amount=250;hS=.25;vS=.25} @SelfLocation{y=-2.0}
  - delay 2
  
krakenSHROUDTOTEM:
  Skills:
  - potion{type=BLINDNESS;duration=40;level=4;repeat=20;repeatInterval=2} @PIR{r=8}
  - effect:particles{particle=squid_ink;amount=1000;hS=1;vS=1;speed=0} @origin
  - delay 2
  - effect:particles{particle=squid_ink;amount=1000;hS=1.25;vS=1.25;speed=0} @origin
  - delay 2
  - effect:particles{particle=squid_ink;amount=25;hS=.25;vS=.25;speed=0;repeat=20;repeatInterval=2;yOffset=1.25} @PIR{r=8}
  - effect:particles{particle=squid_ink;amount=1000;hS=1.5;vS=1.5;speed=0;size=3} @origin
  - delay 2
  - effect:particles{particle=squid_ink;amount=1250;hS=1.75;vS=1.75;speed=0;size=3} @origin
  - delay 2
  - effect:particles{particle=squid_ink;amount=1500;hS=2;vS=2;speed=0;size=3} @origin

krakenWHIRLPOOL:
  Conditions:
  - targetwithin{d=12} true
  Skills:
  - state{s=whirlpool;li=2;lo=3} @self
  - delay 10
  - sound{s=littleroom_kraken:littleroom.kraken.whirlpool;sc=HOSTILE} @self
  - effect:particles{particle=bubble;amount=25;hS=0.25;vS=0.25;speed=0;repeat=35;repeatInterval=1} @ModelPart{m=kraken;p=tentacle40}
  - delay 5
  - totem{ch=15;oH=krakenWHIPdamage;int=1;hR=3;vR=3;md=2;repeat=30;repeatInterval=1;hp=true} @ModelPart{m=kraken;p=tentacle18}
  - damage{amount=50} @PIR{r=12}
  - effect:spin{duration=20;velocity=10} @PIR{r=12}
  
krakenWHIP:
  Conditions:
  - targetwithin{d=12} true
  Skills:
  - sound{s=littleroom_kraken:littleroom.kraken.swing;sc=HOSTILE} @self
  - look{headOnly=false;immediately=true;repeat=60;repeatInterval=1} @Target
  - state{s=swing;li=2;lo=3} @self
  - delay 15
  - effect:particles{particle=bubble;amount=25;hS=0.25;vS=0.25;speed=0;repeat=20;repeatInterval=1} @ModelPart{m=kraken;p=tentacle18}
  - totem{ch=15;oH=krakenWHIPdamage;int=1;hR=3;vR=3;md=2;repeat=15;repeatInterval=1;hp=true} @ModelPart{m=kraken;p=tentacle18}
  - delay 25
  - effect:particles{particle=bubble;amount=25;hS=0.25;vS=0.25;speed=0;repeat=20;repeatInterval=1} @ModelPart{m=kraken;p=tentacle40}
  - totem{ch=15;oH=krakenWHIPdamage;int=1;hR=3;vR=3;md=2;repeat=15;repeatInterval=1;hp=true} @ModelPart{m=kraken;p=tentacle40}
  
krakenWHIPdamage:
  Skills:
  - damage{amount=50}
  - effect:particles{p=reddust;color=#CC0000;amount=15;hS=.25;vS=1;speed=.01;size=5}
  
  
  
krakenBITE:
  Conditions:
  - targetwithin{d=12} true
  Skills:
  - sound{s=littleroom_kraken:littleroom.kraken.bite;sc=HOSTILE} @self
  - setAI{ai=false}
  - effect:particleline{particle=bubble;amount=20;hS=.25;vS=.25;speed=0;size=5;directional=true;fromOrigin=true} @Cone{angle=80;points=32;range=24;rotation=0;yoffset=0}
  #- effect:particles{particle=bubble;amount=20;hS=.25;vS=.25;speed=0;size=5;directional=true} @Cone{angle=80;points=32;range=24;rotation=0;yoffset=0}
  - pull{v=3;to=true;repeat=20;repeatInterval=1} @PIR{r=12}
  - pull{v=6;to=true;repeat=20;repeatInterval=1} @PIR{r=6}
  - state{s=bite} @self
  - delay 15
  - totem{ch=1;oH=krakenBITEdamage;int=1;hR=3;vR=3;md=2;hp=true} @ModelPart{m=kraken;p=mouth}
  - skill{s=krakenEAT} @NearestPlayer{r=3}
  - delay 20
  - setAI{ai=true}
  
krakenBITEdamage:
  Skills:  
  - damage{amount=50}
  - effect:particles{p=reddust;color=#CC0000;amount=15;hS=.25;vS=1;speed=.01;size=5}
  - sound{s=littleroom_kraken:littleroom.kraken.bite_hit;sc=HOSTILE}
  
krakenEAT:
  Skills:
  - sendtitle{title="á¬„";subtitle="Youve been swallowed!";d=60}
  #- blackscreen{d=61}  
  - potion{type=INVISIBILITY;duration=60;level=4;p=false}
  - pull{velocity=10;repeat=60;repeatInterval=1}
  - delay 60
  - dismount
  - delay 1
  - sound{s=minecraft:entity.player.burp}
  - throw{velocity=25;velocityY=10}
  

krakenDEATH:
  Skills:
  - CancelEvent
  - sound{s=littleroom_kraken:littleroom.kraken.death;sc=HOSTILE} @self
  - delay 5
  - effect:particles{p=reddust;color=#0074FF;amount=25;hS=0.25;vS=0.25;speed=0;repeat=15;repeatInterval=2;size=3} @ModelPart{m=kraken;p=tentacle7}
  - submodel{modelid=kraken;partid=anything;subpartid=tentacle8;remove=true} @self
  - submodel{modelid=kraken;partid=anything;subpartid=tentacle9;remove=true} @self
  - submodel{modelid=kraken;partid=anything;subpartid=tentacle10;remove=true} @self
  - submodel{modelid=kraken;partid=anything;subpartid=tentacle11;remove=true} @self
  - submodel{modelid=kraken;partid=anything;subpartid=tentacle12;remove=true} @self
  - delay 5
  - effect:particles{p=reddust;color=#0074FF;amount=25;hS=0.25;vS=0.25;speed=0;repeat=15;repeatInterval=2;size=3} @ModelPart{m=kraken;p=tentacle35}
  - submodel{modelid=kraken;partid=anything;subpartid=tentacle36;remove=true} @self
  - submodel{modelid=kraken;partid=anything;subpartid=tentacle37;remove=true} @self
  - submodel{modelid=kraken;partid=anything;subpartid=tentacle38;remove=true} @self
  - submodel{modelid=kraken;partid=anything;subpartid=tentacle39;remove=true} @self
  - submodel{modelid=kraken;partid=anything;subpartid=tentacle40;remove=true} @self
  - delay 50
  - effect:particles{particle=squid_ink;amount=1500;hS=2;vS=2;speed=0;size=10} @ModelPart{m=kraken;p=kraken}
  - remove @self
  - 